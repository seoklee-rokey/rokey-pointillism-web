<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <title>Admin Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
        .edit-btn {
            padding: 8px 12px;
            border-radius: 6px;
            font-weight: bold;
            font-size: 14px;
            text-decoration: none;
            background: #2563eb;
            color: white;
            display: inline-flex;
            align-items: center;
        }

        .edit-btn:hover {
            background: #1e40af;
        }

        .delete-btn {
            padding: 8px 12px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            background: #ef4444;
            color: white;
        }

        .delete-btn:hover {
            background: #dc2626;
        }



        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background-color: #f4f6f9;
        }

        /* ===== Header ===== */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 30px;
            background-color: #1f2937;
            color: white;
        }

        .logo {
            font-size: 20px;
            font-weight: bold;
        }

        .logout a {
            color: white;
            text-decoration: none;
            font-weight: bold;
        }

        .logout a:hover {
            text-decoration: underline;
        }

        /* ===== Body ===== */
        .container {
            padding: 30px;
        }

        .top-actions {
            margin-bottom: 20px;
        }

        .add-btn {
            padding: 10px 20px;
            background-color: #2563eb;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        .add-btn:hover {
            background-color: #1e40af;
        }

        /* ===== 작품 리스트 ===== */
        .art-list {
            background-color: white;
            border-radius: 6px;
            padding: 20px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        }

        .art-item {
            padding: 15px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
        }

        .art-item:last-child {
            border-bottom: none;
        }

        .art-title {
            font-weight: bold;
        }

        .art-date {
            color: #666;
            font-size: 14px;
        }
    </style>
</head>

<body>

    <!-- ===== Header ===== -->
    <div class="header">
        <div class="logo">
            DOOSAN ROKEY
        </div>

        <div class="logout">
            <a href="{{ url_for('logout') }}">Logout</a>
        </div>
    </div>

    <!-- ===== Body ===== -->
    <div class="container">

        <!-- 작품 추가 -->
   
        <div class="top-actions">
            <button class="add-btn" onclick="location.href='{{ url_for('artwork_new') }}'">
                + 작품 추가
            </button>
        </div>

        <!-- 작품 리스트 -->
        <div class="art-list">
        
            <h3>점묘화 작품 리스트</h3>

            {% if artworks and artworks|length > 0 %}



            {% for art in artworks %}
            <div class="art-item" style="align-items:center; gap:12px;">

                <!-- 왼쪽: 상세 이동 -->
                <a href="{{ url_for('artwork_detail', artwork_id=art.id) }}"
                    style="text-decoration:none; color:inherit; flex:1; display:flex; gap:14px; align-items:center;">

                    {% if art.image_filename %}
                    <img src="{{ url_for('uploaded_file', filename=art.image_filename) }}"
                        style="width:56px;height:56px;object-fit:cover;border-radius:6px;border:1px solid #eee;" />
                    {% endif %}

                    <div>
                        <div class="art-title">{{ art.title }}</div>
                        {% if art.created_at %}
                        <div class="art-date">{{ art.created_at }}</div>
                        {% endif %}
                    </div>
                </a>

                <!-- 오른쪽 버튼 영역 -->
                <div style="display:flex; gap:8px;">

                    <!-- 수정 버튼 -->
                    <a href="{{ url_for('artwork_edit', artwork_id=art.id) }}" class="edit-btn">
                        수정
                    </a>

                    <!-- 삭제 버튼 -->
                    <form method="POST" action="{{ url_for('artwork_delete', artwork_id=art.id) }}"
                        onsubmit="return confirm('정말 삭제할까요?');" style="margin:0;">
                        <button type="submit" class="delete-btn">삭제</button>
                    </form>

                </div>

            </div>
            {% endfor %}













        {% else %}
        <p>등록된 작품이 없습니다.</p>
        {% endif %}

    </div>


    </div>

</body>

</html>